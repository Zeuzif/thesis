\chapter{Analyse des besoins et conception}

% Containing a comprehensive description of the design chosen, how it addresses the problem, and why it is designed the way it is.
\section{Identification des acteurs}
Dans cette section on va décrire \textbf{QUI} utilisera notre système. On commence dans un premier lieu par considérer notre système comme une boite noire pour répondre à la question qui va interagir avec notre logiciel ?\newline
les entités ou acteurs qui entre en jeu sont :
\begin{itemize}
	\item[$\bullet$] Utilisateur : Après son inscription, il peut consulter les offres de covoiturage planifiées, mais aucun autre service ne sera pour lui opérationnel tant qu'il n'a pas terminé le processus KYC (Know Your Customer), on détaille par la suite ce que le KYC dans notre cas.
	\item[$\bullet$] Chauffeur: doit pourvoir ajouter des offres de covoiturage planifiées ou instantanées.
	\item[$\bullet$] Passager: doit pouvoir faire des demandes de covoiturage instantanées et de réserver sa place dans les autres planifiées.
\end{itemize}
Il convient de noter que nos acteurs ont plus qu'un rôle qu'une personne physique, puisque une personne physique peut à la fois être un chauffeur et un passager.\newline
La figure ~\ref{fig:contextDiag} donne une représentation graphique du diagramme du contexte statique sans rentrer dans le détail des cardinalités.
\figlabel{contextDiagram.png}{diagramme de contexte statique}{0.7}{contextDiag}

\section{Spécification des besoins}
\subsection{Besoins fonctionnels} % (fold)
\label{sub:besoins_fonctionnels}
Après la définition des acteurs de notre application, on détermine les besoins de chaque acteurs pour répondre à la question \textbf{QUI} devra pouvoir faire \textbf{QUOI} ?\newline
L'expression de la liste des fonctionnalités est comme suit :
\begin{itemize}
	\item[$\bullet$] \textbf{Authentification} : chaque utilisateur doit pouvoir s'inscrire et activer son compte en vérifiant son numéro du téléphone et son émail.
	\item[$\bullet$] \textbf{Consultation des offres} : chaque utilisateur doit pouvoir après activation du compte consulter la liste des offres planifiés.
	\item[$\bullet$] \textbf{Terminer le KYC} : l'utilisateur doit pouvoir prouver son identité afin que l’ensemble des services seront accessibles (Identification doit être automatisée).
\end{itemize}
Tout service de ceux qui suivent n'est exploitable que si l'utilisateur à terminer le processus KYC.
\begin{itemize}
	\item[$\bullet$] \textbf{Ajout des offres} : un chauffeur peut publier des offres de covoiturages planifiées.
	\item[$\bullet$] \textbf{lancement du trajet} : un conducteur peut lancer un covoiturage instantané, l’itinéraire optimal doit s’afficher tout au long de la course. il reçoit aussi des notifications de prise en charge des passagers.
	\item[$\bullet$] \textbf{Demande de covoiturage} : un passager peut demander un covoiturage instantané (la saisie de la demande par le système doit être en temps réel), ou consulter la liste des covoiturages planifiés afin de réserver sa place.
	\item[$\bullet$] \textbf{Réseau des utilisateurs} : Les utilisateurs peuvent avoir un réseau ainsi que, synchroniser les leurs dans les réseaux sociaux.
	\item[$\bullet$] \textbf{Le matching} : l'affectation des conducteurs aux passagers doit se faire selon les préférences des deux, par préférences on entend fumeur, bagages, sexe.
	\item[$\bullet$] \textbf{Historique des trajets} : tout utilisateur doit avoir la liste de ses trajets planifiés ou qui ont été faits.
	\item[$\bullet$] \textbf{Annulation} : tout utilisateur doit pouvoir annuler des voyages.
	\item[$\bullet$] \textbf{Paiement} : Un passager doit pouvoir payer soit par cash ou par carte bancaire.
\end{itemize}
Cette liste n'est pas exhaustive, et certaines fonctionnalités ont été éliminées pour des raisons de clarté.
% subsection besoins_fonctionnels (end)

\subsection{Besoins non fonctionnels} % (fold)
\label{sub:besoins_non_fonctionnels}
Outre les besoins fonctionnels, un système d'informations doit répondre à un ensemble d'exigences non fonctionnelles.
\begin{itemize}
	\itemb \textbf{Performance} : le chargement de l’application, ouverture d’écran, des délais de rafraîchissement et le temps de réponse de l'algorithme de matching.
	\itemb \textbf{Disponibilité} : l'application doit être opérationnelle à n'importe quel moment.
	\itemb \textbf{Architecture} : le respect du modèle du développement logiciel MVC imposer par Apple.
	\itemb \textbf{Tests} : les tests unitaires doivent être écrits et couvrir 90\% du code.
	\itemb \textbf{Ergonomie} : la densité d’éléments sur les écrans, la disposition et le flux, les couleurs.
	\itemb \textbf{Interface graphique} : les interfaces graphiques doivent être responsive c'est à dire, elles s'adaptent aux différentes tailles d’écran des appareils iOS. (Dans notre cas on va développer notre application que pour le mode portrait)
	\itemb \textbf{Sécurité} : les différents échanges entre les composants de l'application doivent être chiffrés. l’accès a l'API se limite a nos application clientes. protéger les données de l'utilisateur comme la photo de sa CIN.
\end{itemize}
En plus de ces besoins l'application a des défis à surmonter vu que nous développons dans un environnement mobile : 
\begin{itemize}
	\item les petites tailles d’écran.
	\item la vie de la batterie.
	\item performances du matériel.
\end{itemize}
% subsection besoins_non_fonctionnels (end)

\section{Analyse des besoins}
Nous avons identifié les acteurs et un certain nombre de fonctionnalités. Maintenant il est temps de définir en détail chaque fonction et l'attribuer à un acteur.
Nous allons tracer le diagramme de cas d'utilisation et quelques diagrammes de séquence système.
\subsection{Diagramme de cas d'utilisation} % (fold)
\label{sub:diagrammes_de_cas_d_utilisation}
Un cas d’utilisation (use case) représente un lot d’actions qui sont réalisées par le système et qui met donc en évidence de quelle façon les acteurs utiliseront le logiciel.

\fig{usecasediagram.png}{diagramme de cas d'utilisation}{0.5}
% subsection diagrammes_de_cas_d_utilisation (end)